function saveData(e,n){localStorage.setItem(e,JSON.stringify({time:Date.now(),data:n}))}function loadData(e,n){let a=JSON.parse(localStorage.getItem(e));if(a){let e=Date.now()-a.time;if(e<60*n*1e3&&e>-1)return a.data}return 0}try{let e=loadData("blogbg",1440);e?changeBg(e,1):localStorage.removeItem("blogbg")}catch(e){localStorage.removeItem("blogbg")}function changeBg(e,n){let a=document.getElementById("web_bg");"#"==e.charAt(0)?(a.style.backgroundColor=e,a.style.backgroundImage="none"):a.style.backgroundImage=e,n||saveData("blogbg",e)}var winbox="";function createWinbox(){let e=document.createElement("div");document.body.appendChild(e),winbox=WinBox({id:"changeBgBox",index:999,title:"切换背景",x:"center",y:"center",minwidth:"300px",height:"60%",background:"#49b1f5",onmaximize:()=>{e.innerHTML="<style>body::-webkit-scrollbar {display: none;}div#changeBgBox {width: 100% !important;}</style>"},onrestore:()=>{e.innerHTML=""}}),winResize(),window.addEventListener("resize",winResize),winbox.body.innerHTML='\n    <div id="article-container" style="padding:10px;">\n    \n    <p><button onclick="localStorage.removeItem(\'blogbg\');location.reload();" style="background:#5fcdff;display:block;width:100%;padding: 15px 0;border-radius:6px;color:white;"><i class="fa-solid fa-arrows-rotate"></i> 点我恢复默认背景</button></p>\n    \n    <h2 id="随机背景"><a href="#随机背景" class="headerlink" title="随机背景"></a>随机背景</h2>\n    <div class="bgbox">\n    <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://bing.img.run/1920x1080.php)" class="imgbox" onclick="changeBg(\'url(https://bing.img.run/1920x1080.php)\')"></a>\n    <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://bing.img.run/rand.php)" class="imgbox" onclick="changeBg(\'url(https://bing.img.run/rand.php)\')"></a>\n    <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://api.r10086.com/樱道随机图片api接口.php?图片系列=风景系列1)" class="imgbox" onclick="changeBg(\'url(https://api.r10086.com/樱道随机图片api接口.php?图片系列=风景系列1)\')"></a>\n    <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://cdn.seovx.com/d/?mom=302)" class="imgbox" onclick="changeBg(\'url(https://cdn.seovx.com/d/?mom=302)\')"></a>\n    <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://picsum.photos/1920/1080.webp)" class="imgbox" onclick="changeBg(\'url(https://picsum.photos/1920/1080.webp)\')"></a>\n    <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://cdn.seovx.com/ha/?mom=302)" class="imgbox" onclick="changeBg(\'url(https://cdn.seovx.com/ha/?mom=302)\')"></a>\n    <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(https://cdn.seovx.com/?mom=302)" class="imgbox" onclick="changeBg(\'url(https://cdn.seovx.com/?mom=302)\')"></a>\n    <a href="javascript:;" rel="noopener external nofollow" style="background-image:url(http://api.btstu.cn/sjbz/api.php?lx=girl&format=images)" class="imgbox" onclick="changeBg(\'url(https://api.btstu.cn/sjbz/api.php?lx=girl&format=images)\')"></a>\n    </div>\n    \n    \n    <h2 id="渐变色"><a href="#渐变色" class="headerlink" title="渐变色"></a>渐变色</h2>\n    <div class="bgbox">\n    <a href="javascript:;" rel="noopener external nofollow" class="box" style="background: linear-gradient(to right, #ee9ca7, #ffdde1)" onclick="changeBg(\'linear-gradient(to right, #ee9ca7, #ffdde1)\')"></a>\n    <a href="javascript:;" rel="noopener external nofollow" class="box" style="background: linear-gradient(to right, #c6ffdd, #fbd786, #f7797d)" onclick="changeBg(\'linear-gradient(to right, #c6ffdd, #fbd786, #f7797d)\')"></a>\n    <a href="javascript:;" rel="noopener external nofollow" class="box" style="background: linear-gradient(to right, #dd3e54, #6be585)" onclick="changeBg(\'linear-gradient(to right, #dd3e54, #6be585)\')"></a>\n    <a href="javascript:;" rel="noopener external nofollow" class="box" style="background: linear-gradient(to right, #74ebd5, #acb6e5)" onclick="changeBg(\'linear-gradient(to right, #74ebd5, #acb6e5)\')"></a>\n    </div>\n    \n    <h2 id="纯色"><a href="#纯色" class="headerlink" title="纯色"></a>纯色</h2>\n    <div class="bgbox">\n    <a href="javascript:;" rel="noopener external nofollow" class="box" style="background: #7D9D9C" onclick="changeBg(\'#7D9D9C\')"></a> \n    <a href="javascript:;" rel="noopener external nofollow" class="box" style="background: #ff69b4" onclick="changeBg(\'#ff69b4\')"></a> \n    <a href="javascript:;" rel="noopener external nofollow" class="box" style="background: #69ffd1" onclick="changeBg(\'#69ffd1\')"></a> \n    <a href="javascript:;" rel="noopener external nofollow" class="box" style="background: #ffb6ba" onclick="changeBg(\'#ffb6ba\')"></a> \n    </div>\n'}function winResize(){let e=document.querySelector("#changeBgBox");if(e&&!e.classList.contains("min")&&!e.classList.contains("max")){var n=document.documentElement.clientWidth;n<=768?winbox.resize(.95*n+"px","90%").move("center","center"):winbox.resize(.6*n+"px","70%").move("center","center")}}function whenDOMReady(){try{let e=loadData("blogbg",1440);e?changeBg(e,1):localStorage.removeItem("blogbg")}catch(e){localStorage.removeItem("blogbg")}}function toggleWinbox(){document.querySelector("#changeBgBox")?winbox.toggleClass("hide"):createWinbox()}whenDOMReady(),document.addEventListener("pjax:success",whenDOMReady);